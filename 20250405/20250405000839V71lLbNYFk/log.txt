Repo to build:
https://github.com/wled/WLED/archive/refs/heads/main.zip
Enviroment to build:
[env:custom_build]
extends = env:nodemcuv2
platform = ${common.platform_wled_default}
platform_packages = ${common.platform_packages}
upload_speed = 921600
board_build.ldscript = ${common.ldscript_4m1m}
build_unflags = ${common.build_unflags}
build_flags =
    ${common.build_flags_esp8266} 
    -D WLED_RELEASE_NAME=esp8266_display_rotary
    -D WLED_DISABLE_BLYNK
    -D WLED_DISABLE_CRONIXIE
    -D WLED_DISABLE_HUESYNC
    -D WLED_DISABLE_LOXONE
    -D WLED_DISABLE_MQTT
    -D WLED_DISABLE_ALEXA
    -D USERMOD_AUTO_SAVE -D AUTOSAVE_PRESET_NUM=100
    -D USE_ALT_DISPlAY
    -D USERMOD_FOUR_LINE_DISPLAY
    -D USERMOD_ROTARY_ENCODER_UI
    -D PIO_FRAMEWORK_ARDUINO_MMU_CACHE16_IRAM48
monitor_filters = esp8266_exception_decoder

lib_deps = ${esp8266.lib_deps}
  olikraus/U8g2 @ ^2.35.5
Hacks to apply:

--2025-04-04 22:08:56--  https://github.com/wled/WLED/archive/refs/heads/main.zip
Resolving github.com (github.com)... 140.82.112.3
Connecting to github.com (github.com)|140.82.112.3|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://codeload.github.com/wled/WLED/zip/refs/heads/main [following]
--2025-04-04 22:08:56--  https://codeload.github.com/wled/WLED/zip/refs/heads/main
Resolving codeload.github.com (codeload.github.com)... 140.82.113.9
Connecting to codeload.github.com (codeload.github.com)|140.82.113.9|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/zip]
Saving to: ‘/tmp/WLEDtemp/mm.zip’

     0K .......... .......... .......... .......... .......... 2.06M
    50K .......... .......... .......... .......... .......... 8.37M
   100K .......... .......... .......... .......... .......... 8.73M
   150K .......... .......... .......... .......... ..........  132M
   200K .......... .......... .......... .......... ..........  148M
   250K .......... .......... .......... .......... .......... 9.10M
   300K .......... .......... .......... .......... ..........  152M
   350K .......... .......... .......... .......... ..........  144M
   400K .......... .......... .......... .......... ..........  123M
   450K .......... .......... .......... .......... ..........  153M
   500K .......... .......... .......... .......... .......... 11.1M
   550K .......... .......... .......... .......... ..........  141M
   600K .......... .......... .......... .......... ..........  151M
   650K .......... .......... .......... .......... ..........  134M
   700K .......... .......... .......... .......... ..........  139M
   750K .......... .......... .......... .......... ..........  126M
   800K .......... .......... .......... .......... ..........  118M
   850K .......... .......... .......... .......... ..........  152M
   900K .......... .......... .......... .......... ..........  155M
   950K .......... .......... .......... .......... ..........  142M
  1000K .......... .......... .......... .......... .......... 21.2M
  1050K .......... .......... .......... .......... .......... 36.6M
  1100K .......... .......... .......... .......... .......... 51.9M
  1150K .......... .......... .......... .......... ..........  644K
  1200K .......... .......... .......... .......... ..........  114M
  1250K .......... .......... .......... .......... ..........  128M
  1300K .......... .......... .......... .......... ..........  143M
  1350K .......... .......... .......... .......... ..........  377M
  1400K .......... .......... .......... .......... ..........  332M
  1450K .......... .......... .......... .......... ..........  320M
  1500K .......... .......... .......... .......... ..........  320M
  1550K .......... .......... .......... .......... ..........  381M
  1600K .......... .......... .......... .......... ..........  295M
  1650K .......... .......... .......... .......... ..........  241M
  1700K .......... .......... .......... .......... ..........  340M
  1750K .......... .......... .......... .......... ..........  357M
  1800K .......... .......... .......... .......... ..........  279M
  1850K .......... .......... .......... .......... ..........  288M
  1900K .......... .......... .......... .......... ..........  353M
  1950K .......... .......... .......... .......... ..........  345M
  2000K .......... .......... .......... .......... ..........  342M
  2050K .......... .......... .......... .......... ..........  299M
  2100K .......... .......... .......... .......... ..........  206M
  2150K .......... .......... .......... .......... .......... 78.6M
  2200K .......... .......... .......... .......... ..........  132M
  2250K .......... .......... .......... .......... ..........  148M
  2300K .......... .......... .......... .......... ..........  153M
  2350K .......... .......... .......... .......... .......... 53.2M
  2400K .......... .......... .......... .......... ..........  246M
  2450K .......... .......... .......... .......... ..........  144M
  2500K .......... .......... .......... .......... ..........  124M
  2550K .......... .......... .......... .......... ..........  328M
  2600K .......... .......... .......... .......... ..........  111M
  2650K .......... .......... .......... .......... ..........  325M
  2700K .......... .......... .......... .......... ..........  323M
  2750K .......... .......... .......... .......... ..........  399M
  2800K .......... .......... .......... .......... .......... 3.45M
  2850K .......... .......... .......... .......... ..........  219M
  2900K .......... .......... .......... .......... ..........  231M
  2950K .......... .......... .......... .......... ..........  241M
  3000K .......... .......... .......... .......... ..........  190M
  3050K .......... .......... .......... .......... ..........  272M
  3100K .......... .......... .......... .......... ..........  406M
  3150K .......... .......... .......... .......... ..........  316M
  3200K .......... .......... .......... .......... ..........  287M
  3250K .......... .......... .......... .......... ..........  366M
  3300K .......... .......... .......... .......... ..........  189M
  3350K .......... .......... .......... .......... .......... 29.2M
  3400K .......... .......... .......... .......... .......... 10.2M
  3450K .......... .......... .......... .......... .......... 92.1M
  3500K .......... .......... .......... .......... ..........  142M
  3550K .......... .......... .......... .......... .......... 38.4M
  3600K .......... .......... .......... .......... .......... 25.6M
  3650K .......... .......... .......... .......... .......... 6.99M
  3700K .......... .......... .......... .......... ..........  106M
  3750K .......... .......... .......... .......... ..........  145M
  3800K .......... .......... .......... .......... .......... 6.53M
  3850K .......... .......... .......... .......... ..........  108M
  3900K .......... .......... .......... .......... ..........  144M
  3950K .......... .......... .......... .......... ..........  264M
  4000K .......... .......... .......... .......... .......... 8.11M
  4050K .......... .......... .......... .......... ..........  110M
  4100K .......... .......... .......... .......... ..........  138M
  4150K .......... .......... .......... .......... .......... 43.7M
  4200K .......... .......... .......... .......... .......... 25.4M
  4250K .......... .......... .......... .......... .......... 5.25M
  4300K .......... .......... .......... .......... .......... 74.7M
  4350K .......... .......... .......... .......... .......... 97.2M
  4400K .......... .......... .......... .......... .......... 2.13M
  4450K .......... .......... .......... .......... .......... 43.2M
  4500K .......... .......... .......... .......... .......... 60.5M
  4550K .......... .......... .......... .......... .......... 90.8M
  4600K .......... .......... .......... .......... .......... 97.6M
  4650K .......... .......... .......... .......... .......... 81.2M
  4700K .......... .......... .......... .......... .......... 91.9M
  4750K .......... .......... .......... .......... .......... 83.8M
  4800K .......... .......... .......... .......... ..........  107M
  4850K .......... .......... .......... .......... ..........  101M
  4900K .......... .......... .......... .......... ..........  106M
  4950K .......... .......... .......... .......... .......... 93.8M
  5000K .......... .......... .......... .......... .......... 97.1M
  5050K .......... .......... .......... .......... .......... 93.2M
  5100K .......... .......... .......... .......... .......... 2.36M
  5150K .......... .......... .......... .......... .......... 93.3M
  5200K .......... .......... .......... .......... .......... 64.3M
  5250K .......... .......... .......... .......... .......... 66.3M
  5300K .......... .......... .......... .......... .......... 48.5M
  5350K .......... .......... .......... .......... .......... 78.9M
  5400K .......... .......... .......... .......... .......... 94.8M
  5450K .......... .......... .......... .......... ..........  101M
  5500K .......... .......... .......... .......... .......... 89.9M
  5550K .......... .......... .......... .......... .......... 93.5M
  5600K .......... .......... .......... .......... .......... 85.6M
  5650K .......... .......... .......... .......... .......... 96.3M
  5700K .......... .......... .......... .......... .......... 90.0M
  5750K .......... .......... .......... .......... .......... 95.2M
  5800K .......... .......... .......... .......... .......... 91.3M
  5850K .......... .......... .......... .......... .......... 94.8M
  5900K .......... .......... .......... .......... .......... 89.8M
  5950K .......... .......... .......... .......... .......... 1.80M
  6000K .......... .......... .......... .......... .......... 67.0M
  6050K .......... .......... .......... .......... .......... 43.5M
  6100K .......... .......... .......... .......... .......... 47.1M
  6150K .......... .......... .......... .......... ..........  101M
  6200K .......... .......... .......... .......... ..........  222M
  6250K .......... .......... .......... .......... ..........  225M
  6300K .......... .......... .......... .......... ..........  206M
  6350K .......... .......... .......... .......... ..........  195M
  6400K .......... .......... .......... .......... ..........  107M
  6450K .......... .......... .......... .......... ..........  107M
  6500K .......... .......... .......... .......... ..........  102M
  6550K .......... .......... .......... .......... ..........  102M
  6600K .......... .......... .......... .......... .......... 97.3M
  6650K .......... .......... .......... .......... .......... 98.1M
  6700K .......... .......... .......... .......... ..........  119M
  6750K .......... .......... .......... .......... ..........  228M
  6800K .......... .......... .......... .......... ..........  229M
  6850K .......... .......... .......... .......... ..........  101M
  6900K .......... .......... .......... .......... .......... 97.3M
  6950K .......... .......... .......... .......... .......... 88.2M
  7000K .......... .......... .......... .......... .......... 95.6M
  7050K .......... .......... .......... .......... .......... 86.8M
  7100K .......... .......... .......... .......... .......... 2.67M
  7150K .......... .......... .......... .......... .......... 30.8M
  7200K .......... .......... .......... .......... .......... 95.3M
  7250K .......... .......... .......... .......... ..........  102M
  7300K .......... .......... .......... .......... .......... 92.4M
  7350K .......... .......... .......... .......... .......... 90.6M
  7400K .......... .......... .......... .......... .......... 96.5M
  7450K .......... .......... .......... .......... .......... 98.1M
  7500K .......... .......... .......... .......... .......... 93.4M
  7550K .......... .......... .......... .......... .......... 87.2M
  7600K .......... .......... .......... .......... .......... 96.7M
  7650K .......... .......... .......... .......... .......... 90.4M
  7700K .......... .......... .......... .......... .......... 90.2M
  7750K .......... .......... .......... .......... .......... 93.4M
  7800K .......... .......... .......... .......... .......... 89.6M
  7850K .......... .......... .......... .......... ..........  102M
  7900K .......... .......... .......... .......... .......... 94.1M
  7950K .......... .......... .......... .......... .......... 5.15M
  8000K .......... .......... .......... .......... .......... 51.4M
  8050K .......... .......... .......... .......... .......... 55.6M
  8100K .......... .......... .......... .......... .......... 58.3M
  8150K .......... .......... .......... .......... ..........  104M
  8200K .......... .......... .......... .......... .......... 93.6M
  8250K .......... .......... .......... .......... ..........  101M
  8300K .......... .......... .......... .......... .......... 82.1M
  8350K .......... .......... .......... .......... .......... 91.3M
  8400K .......... .......... .......... .......... .......... 92.5M
  8450K .......... .......... .......... .......... .......... 95.1M
  8500K .......... .......... .......... .......... .......... 86.7M
  8550K .......... .......... .......... .......... .......... 95.0M
  8600K .......... .......... .......... .......... .......... 91.8M
  8650K .......... .......... .......... .......... .......... 4.23M
  8700K .......... .......... .......... .......... .......... 84.3M
  8750K .......... .......... .......... .......... ..........  100M
  8800K .......... .......... .......... .......... .......... 98.6M
  8850K .......... .......... .......... .......... .......... 97.1M
  8900K .......... .......... .......... .......... .......... 92.1M
  8950K .......... .......... .......... .......... .......... 11.8M
  9000K .......... .......... .......... .......... .......... 86.5M
  9050K .......... .......... .......... .......... .......... 94.7M
  9100K .......... .......... .......... .......... .......... 90.1M
  9150K .......... .......... .......... .......... .......... 5.85M
  9200K .......... .......... .......... .......... .......... 51.3M
  9250K .......... .......... .......... .......... .......... 77.6M
  9300K .......... .......... .......... .......... .......... 85.4M
  9350K .......... .......... .......... .......... ..........  113M
  9400K .......... .......... .......... .......... ..........  215M
  9450K .......... .......... .......... .......... ..........  187M
  9500K .......... .......... .......... .......... .......... 71.0M
  9550K .......... .......... .......... .......... .......... 33.1M
  9600K .......... .......... .......... .......... .......... 17.8M
  9650K .......... .......... .......... .......... .......... 9.56M
  9700K .......... .......... .......... .......... .......... 4.74M
  9750K .......... .......... .......... .......... .......... 2.48M
  9800K .......... .......... .......... .......... .......... 91.9M
  9850K .......... .......... .......... .......... .......... 70.6M
  9900K .......... .......... .......... .......... .......... 4.07M
  9950K .......... .......... .......... .......... .......... 36.7M
 10000K .......... .......... .......... .......... .......... 9.78M
 10050K .......... .......... .......... .......... .......... 7.03M
 10100K .......... .......... .......... .......... .......... 12.7M
 10150K .......... .......... .......... .......... .......... 11.9M
 10200K .......... .......... .......... .......... .......... 9.18M
 10250K .......... .......... .......... .......... .......... 8.86M
 10300K .......... .......... .......... .......... .......... 5.26M
 10350K .......... .......... .......... .......... .......... 28.1M
 10400K .......... .......... .......... .......... .......... 7.10M
 10450K .......... .......... .......... .......... .......... 9.20M
 10500K .......... .......... .......... .......... ..........  134M
 10550K .......... ......                                       154M=0.5s

2025-04-04 22:08:57 (21.2 MB/s) - ‘/tmp/WLEDtemp/mm.zip’ saved [10819764]


added 67 packages, and audited 68 packages in 1s

13 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
********************************************************************************
If you like PlatformIO, please:
- star it on GitHub > https://github.com/platformio/platformio-core
- follow us on LinkedIn to stay up-to-date on the latest project news > https://www.linkedin.com/company/platformio/
- try PlatformIO IDE for embedded development > https://platformio.org/platformio-ide
********************************************************************************

InvalidProjectConfError: Invalid '/tmp/WLEDtemp/WLED-main/platformio.ini' (project configuration file): 'No option 'build_flags_esp8266' in section: 'common''
InvalidProjectConfError: Invalid '/tmp/WLEDtemp/WLED-main/platformio.ini' (project configuration file): 'No option 'build_flags_esp8266' in section: 'common''
