Repo to build:
https://api.github.com/repos/wled/WLED/zipball/nightly
Enviroment to build:
[env:adafruit_matrixportal_esp32s3]
; ESP32-S3 processor, 8 MB flash, 2 MB of PSRAM, dedicated driver pins for HUB75
board = adafruit_matrixportal_esp32s3_wled ; modified board definition: removed flash section that causes FS erase on upload
;; adafruit recommends to use arduino-esp32 2.0.14
;;platform = espressif32@ ~6.5.0
;;platform_packages = platformio/framework-arduinoespressif32 @ 3.20014.231204 ;; arduino-esp32 2.0.14
platform = ${esp32s3.platform}
platform_packages =
upload_speed = 921600
build_unflags = ${common.build_unflags}
build_flags = ${common.build_flags} ${esp32s3.build_flags} -D WLED_RELEASE_NAME=\"ESP32-S3_8M_qspi\"
  -DARDUINO_USB_CDC_ON_BOOT=1 ;; -DARDUINO_USB_MODE=1      ;; for boards with USB-OTG connector only (USBCDC or "TinyUSB")
  -DBOARD_HAS_PSRAM
  -DLOLIN_WIFI_FIX ; seems to work much better with this
  -D WLED_WATCHDOG_TIMEOUT=0
  -D WLED_ENABLE_HUB75MATRIX -D NO_GFX
  -D S3_LCD_DIV_NUM=20 ;; Attempt to fix wifi performance issue when panel active with S3 chips
  -D ARDUINO_ADAFRUIT_MATRIXPORTAL_ESP32S3
  -D WLED_DEBUG_BUS
  -D WLED_ENABLE_PIXART
  -D SR_DMTYPE=1 -D I2S_SDPIN=-1 -D I2S_CKPIN=-1 -D I2S_WSPIN=-1 -D MCLK_PIN=-1  ;; Disable to prevent pin clash


lib_deps = ${esp32s3.lib_deps}
  https://github.com/mrfaptastic/ESP32-HUB75-MatrixPanel-DMA.git#aa28e2a ;; S3_LCD_DIV_NUM fix

board_build.partitions = ${esp32.large_partitions}                  ;; standard bootloader and 8MB Flash partitions
;; board_build.partitions = tools/partitions-8MB_spiffs-tinyuf2.csv ;; supports adafruit UF2 bootloader
board_build.f_flash = 80000000L
board_build.flash_mode = qio
monitor_filters = esp32_exception_decoder
custom_usermods = audioreactive word_clock Analog_Clock
Hacks to apply:

--2025-12-23 16:42:08--  https://api.github.com/repos/wled/WLED/zipball/nightly
Resolving api.github.com (api.github.com)... 140.82.112.5
Connecting to api.github.com (api.github.com)|140.82.112.5|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://codeload.github.com/wled/WLED/legacy.zip/refs/tags/nightly [following]
--2025-12-23 16:42:14--  https://codeload.github.com/wled/WLED/legacy.zip/refs/tags/nightly
Resolving codeload.github.com (codeload.github.com)... 140.82.112.10
Connecting to codeload.github.com (codeload.github.com)|140.82.112.10|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/zip]
Saving to: ‘/tmp/WLEDtemp/mm.zip’

     0K .......... .......... .......... .......... .......... 1.29M
    50K .......... .......... .......... .......... .......... 9.61M
   100K .......... .......... .......... .......... .......... 95.6M
   150K .......... .......... .......... .......... .......... 10.9M
   200K .......... .......... .......... .......... .......... 80.7M
   250K .......... .......... .......... .......... ..........  150M
   300K .......... .......... .......... .......... ..........  264M
   350K .......... .......... .......... .......... .......... 11.1M
   400K .......... .......... .......... .......... ..........  114M
   450K .......... .......... .......... .......... ..........  348M
   500K .......... .......... .......... .......... .......... 9.34M
   550K .......... .......... .......... .......... ..........  112M
   600K .......... .......... .......... .......... ..........  136M
   650K .......... .......... .......... .......... ..........  197M
   700K .......... .......... .......... .......... ..........  292M
   750K .......... .......... .......... .......... ..........  167M
   800K .......... .......... .......... .......... ..........  320M
   850K .......... .......... .......... .......... ..........  352M
   900K .......... .......... .......... .......... ..........  374M
   950K .......... .......... .......... .......... .......... 15.0M
  1000K .......... .......... .......... .......... ..........  119M
  1050K .......... .......... .......... .......... .......... 9.54M
  1100K .......... .......... .......... .......... .......... 96.9M
  1150K .......... .......... .......... .......... .......... 15.3M
  1200K .......... .......... .......... .......... ..........  626K
  1250K .......... .......... .......... .......... ..........  140M
  1300K .......... .......... .......... .......... ..........  151M
  1350K .......... .......... .......... .......... ..........  127M
  1400K .......... .......... .......... .......... ..........  151M
  1450K .......... .......... .......... .......... ..........  144M
  1500K .......... .......... .......... .......... ..........  137M
  1550K .......... .......... .......... .......... ..........  229M
  1600K .......... .......... .......... .......... ..........  380M
  1650K .......... .......... .......... .......... ..........  361M
  1700K .......... .......... .......... .......... ..........  415M
  1750K .......... .......... .......... .......... ..........  258M
  1800K .......... .......... .......... .......... ..........  441M
  1850K .......... .......... .......... .......... ..........  347M
  1900K .......... .......... .......... .......... .......... 28.4M
  1950K .......... .......... .......... .......... ..........  272M
  2000K .......... .......... .......... .......... ..........  108M
  2050K .......... .......... .......... .......... ..........  336M
  2100K .......... .......... .......... .......... ..........  356M
  2150K .......... .......... .......... .......... ..........  324M
  2200K .......... .......... .......... .......... ..........  281M
  2250K .......... .......... .......... .......... ..........  254M
  2300K .......... .......... .......... .......... ..........  339M
  2350K .......... .......... .......... .......... ..........  366M
  2400K .......... .......... .......... .......... ..........  410M
  2450K .......... .......... .......... .......... ..........  113M
  2500K .......... .......... .......... .......... ..........  362M
  2550K .......... .......... .......... .......... ..........  187M
  2600K .......... .......... .......... .......... ..........  383M
  2650K .......... .......... .......... .......... ..........  251M
  2700K .......... .......... .......... .......... ..........  315M
  2750K .......... .......... .......... .......... ..........  473M
  2800K .......... .......... .......... .......... .......... 10.8M
  2850K .......... .......... .......... .......... ..........  222M
  2900K .......... .......... .......... .......... .......... 18.4M
  2950K .......... .......... .......... .......... .......... 43.9M
  3000K .......... .......... .......... .......... .......... 7.04M
  3050K .......... .......... .......... .......... ..........  100M
  3100K .......... .......... .......... .......... ..........  149M
  3150K .......... .......... .......... .......... .......... 3.19M
  3200K .......... .......... .......... .......... .......... 70.7M
  3250K .......... .......... .......... .......... .......... 91.1M
  3300K .......... .......... .......... .......... ..........  103M
  3350K .......... .......... .......... .......... ..........  253M
  3400K .......... .......... .......... .......... ..........  229M
  3450K .......... .......... .......... .......... .......... 6.10M
  3500K .......... .......... .......... .......... ..........  146M
  3550K .......... .......... .......... .......... ..........  242M
  3600K .......... .......... .......... .......... .......... 30.1M
  3650K .......... .......... .......... .......... .......... 14.3M
  3700K .......... .......... .......... .......... .......... 6.11M
  3750K .......... .......... .......... .......... ..........  139M
  3800K .......... .......... .......... .......... .......... 5.17M
  3850K .......... .......... .......... .......... .......... 75.1M
  3900K .......... .......... .......... .......... ..........  150M
  3950K .......... .......... .......... .......... ..........  156M
  4000K .......... .......... .......... .......... ..........  139M
  4050K .......... .......... .......... .......... .......... 7.43M
  4100K .......... .......... .......... .......... ..........  107M
  4150K .......... .......... .......... .......... .......... 39.3M
  4200K .......... .......... .......... .......... .......... 36.9M
  4250K .......... .......... .......... .......... .......... 17.2M
  4300K .......... .......... .......... .......... .......... 5.85M
  4350K .......... .......... .......... .......... ..........  120M
  4400K .......... .......... .......... .......... .......... 1.92M
  4450K .......... .......... .......... .......... .......... 77.5M
  4500K .......... .......... .......... .......... ..........  116M
  4550K .......... .......... .......... .......... ..........  117M
  4600K .......... .......... .......... .......... ..........  134M
  4650K .......... .......... .......... .......... ..........  193M
  4700K .......... .......... .......... .......... ..........  386M
  4750K .......... .......... .......... .......... ..........  345M
  4800K .......... .......... .......... .......... ..........  163M
  4850K .......... .......... .......... .......... ..........  174M
  4900K .......... .......... .......... .......... ..........  393M
  4950K .......... .......... .......... .......... ..........  332M
  5000K .......... .......... .......... .......... ..........  340M
  5050K .......... .......... .......... .......... ..........  361M
  5100K .......... .......... .......... .......... ..........  356M
  5150K .......... .......... .......... .......... .......... 1.75M
  5200K .......... .......... .......... .......... ..........  103M
  5250K .......... .......... .......... .......... ..........  105M
  5300K .......... .......... .......... .......... ..........  199M
  5350K .......... .......... .......... .......... ..........  149M
  5400K .......... .......... .......... .......... ..........  385M
  5450K .......... .......... .......... .......... ..........  172M
  5500K .......... .......... .......... .......... ..........  191M
  5550K .......... .......... .......... .......... ..........  324M
  5600K .......... .......... .......... .......... ..........  400M
  5650K .......... .......... .......... .......... ..........  407M
  5700K .......... .......... .......... .......... ..........  332M
  5750K .......... .......... .......... .......... ..........  293M
  5800K .......... .......... .......... .......... ..........  383M
  5850K .......... .......... .......... .......... ..........  321M
  5900K .......... .......... .......... .......... ..........  365M
  5950K .......... .......... .......... .......... ..........  353M
  6000K .......... .......... .......... .......... .......... 1.38M
  6050K .......... .......... .......... .......... .......... 89.5M
  6100K .......... .......... .......... .......... ..........  106M
  6150K .......... .......... .......... .......... ..........  217M
  6200K .......... .......... .......... .......... ..........  168M
  6250K .......... .......... .......... .......... ..........  344M
  6300K .......... .......... .......... .......... ..........  368M
  6350K .......... .......... .......... .......... ..........  174M
  6400K .......... .......... .......... .......... ..........  323M
  6450K .......... .......... .......... .......... ..........  341M
  6500K .......... .......... .......... .......... ..........  177M
  6550K .......... .......... .......... .......... ..........  272M
  6600K .......... .......... .......... .......... ..........  152M
  6650K .......... .......... .......... .......... ..........  277M
  6700K .......... .......... .......... .......... ..........  377M
  6750K .......... .......... .......... .......... ..........  333M
  6800K .......... .......... .......... .......... ..........  386M
  6850K .......... .......... .......... .......... ..........  310M
  6900K .......... .......... .......... .......... ..........  435M
  6950K .......... .......... .......... .......... ..........  282M
  7000K .......... .......... .......... .......... ..........  291M
  7050K .......... .......... .......... .......... ..........  349M
  7100K .......... .......... .......... .......... .......... 1.69M
  7150K .......... .......... .......... .......... ..........  192M
  7200K .......... .......... .......... .......... ..........  199M
  7250K .......... .......... .......... .......... ..........  111M
  7300K .......... .......... .......... .......... ..........  313M
  7350K .......... .......... .......... .......... ..........  354M
  7400K .......... .......... .......... .......... ..........  162M
  7450K .......... .......... .......... .......... ..........  398M
  7500K .......... .......... .......... .......... ..........  154M
  7550K .......... .......... .......... .......... ..........  335M
  7600K .......... .......... .......... .......... ..........  166M
  7650K .......... .......... .......... .......... ..........  276M
  7700K .......... .......... .......... .......... ..........  294M
  7750K .......... .......... .......... .......... ..........  306M
  7800K .......... .......... .......... .......... ..........  357M
  7850K .......... .......... .......... .......... ..........  386M
  7900K .......... .......... .......... .......... ..........  357M
  7950K .......... .......... .......... .......... ..........  366M
  8000K .......... .......... .......... .......... .......... 2.69M
  8050K .......... .......... .......... .......... ..........  130M
  8100K .......... .......... .......... .......... ..........  344M
  8150K .......... .......... .......... .......... ..........  105M
  8200K .......... .......... .......... .......... ..........  359M
  8250K .......... .......... .......... .......... ..........  161M
  8300K .......... .......... .......... .......... ..........  183M
  8350K .......... .......... .......... .......... ..........  288M
  8400K .......... .......... .......... .......... ..........  361M
  8450K .......... .......... .......... .......... ..........  339M
  8500K .......... .......... .......... .......... ..........  284M
  8550K .......... .......... .......... .......... ..........  442M
  8600K .......... .......... .......... .......... .......... 9.26M
  8650K .......... .......... .......... .......... .......... 4.04M
  8700K .......... .......... .......... .......... .......... 73.8M
  8750K .......... .......... .......... .......... ..........  129M
  8800K .......... .......... .......... .......... ..........  177M
  8850K .......... .......... .......... .......... ..........  273M
  8900K .......... .......... .......... .......... ..........  421M
  8950K .......... .......... .......... .......... .......... 7.26M
  9000K .......... .......... .......... .......... ..........  107M
  9050K .......... .......... .......... .......... ..........  105M
  9100K .......... .......... .......... .......... ..........  153M
  9150K .......... .......... .......... .......... ..........  160M
  9200K .......... .......... .......... .......... .......... 4.38M
  9250K .......... .......... .......... .......... .......... 99.5M
  9300K .......... .......... .......... .......... ..........  160M
  9350K .......... .......... .......... .......... ..........  144M
  9400K .......... .......... .......... .......... ..........  147M
  9450K .......... .......... .......... .......... ..........  161M
  9500K .......... .......... .......... .......... ..........  125M
  9550K .......... .......... .......... .......... .......... 30.6M
  9600K .......... .......... .......... .......... .......... 47.4M
  9650K .......... .......... .......... .......... .......... 1.11M
  9700K .......... .......... .......... .......... .......... 69.0M
  9750K .......... .......... .......... .......... ..........  120M
  9800K .......... .......... .......... .......... ..........  104M
  9850K .......... .......... .......... .......... ..........  135M
  9900K .......... .......... .......... .......... ..........  334M
  9950K .......... .......... .......... .......... ..........  310M
 10000K .......... .......... .......... .......... ..........  353M
 10050K .......... .......... .......... .......... ..........  123M
 10100K .......... .......... .......... .......... ..........  352M
 10150K .......... .......... .......... .......... ..........  346M
 10200K .......... .......... .......... .......... ..........  397M
 10250K .......... .......... .......... .......... ..........  348M
 10300K .......... .......... .......... .......... ..........  290M
 10350K .......... .......... .......... .......... ..........  314M
 10400K .......... .......... .......... .......... ..........  354M
 10450K .......... .......... .......... .......... ..........  279M
 10500K .......... .......... .......... .......... ..........  344M
 10550K .......... .......... .......... .......... ..........  327M
 10600K .......... .......... .......... .......... ..........  277M
 10650K .......... .......... .......... .......... .......... 39.6M
 10700K .......... .......... .......... .......... .......... 5.55M
 10750K .......... .......... .......... .......... .......... 18.5M
 10800K .......... .......... .......... .......... .......... 1.26M
 10850K .......... .......... .......... .......... ..........  149M
 10900K .......... .......... .......... .......... ..........  124M
 10950K .......... .......... .......... .......... ..........  153M
 11000K .......... .......... .......... .......... ..........  149M
 11050K .......... .......... .......... .......... .......... 8.80M
 11100K .......... .......... .......... .......... .......... 5.19M
 11150K .......... .......... .......... .......... .......... 14.7M
 11200K .......... .......... .......... .......... .......... 8.49M
 11250K .......... .......... .......... .......... .......... 10.8M
 11300K .......... .......... .......... .......... .......... 8.44M
 11350K .......... .......... .......... .......... .......... 7.99M
 11400K .......... .......... .......... .......... .......... 6.01M
 11450K .......... .......... .......... .......... .......... 8.41M
 11500K .......... .......... .......... .......... .......... 6.28M
 11550K .......... .......... .......... .......... .......... 16.5M
 11600K .......... .......... .......... .......... ..........  126M
 11650K ......                                                  146M=0.6s

2025-12-23 16:42:15 (18.6 MB/s) - ‘/tmp/WLEDtemp/mm.zip’ saved [11936599]


added 67 packages, and audited 68 packages in 2s

13 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
********************************************************************************
If you like PlatformIO, please:
- star it on GitHub > https://github.com/platformio/platformio-core
- follow us on LinkedIn to stay up-to-date on the latest project news > https://www.linkedin.com/company/platformio/
- try PlatformIO IDE for embedded development > https://platformio.org/platformio-ide
********************************************************************************

UnknownEnvNamesError: Unknown environment names 'custom_build'. Valid names are 'adafruit_matrixportal_esp32s3, esp01_1m_full_compat, esp01_1m_full, esp32S3_wroom2_32MB, esp01_1m_full_160, esp32s3dev_8MB_opi, esp8266_2m_compat, nodemcuv2_compat, esp32dev_debug, esp8266_2m_160, esp32_wrover, esp32s3_4M_qspi, esp32c3dev_qio, nodemcuv2_160, esp32c3dev, esp32S3_wroom2, nodemcuv2, esp32s3dev_16MB_opi, esp8266_2m, esp32_eth, esp32dev_8M, usermods, esp32dev, esp32dev_16M, lolin_s2_mini'
UnknownEnvNamesError: Unknown environment names 'custom_build'. Valid names are 'esp32dev, esp01_1m_full_compat, esp32c3dev_qio, esp32S3_wroom2_32MB, esp8266_2m, esp8266_2m_compat, nodemcuv2_compat, esp01_1m_full_160, esp32s3dev_16MB_opi, esp32dev_debug, usermods, lolin_s2_mini, esp32s3_4M_qspi, esp32c3dev, esp32_eth, nodemcuv2_160, esp01_1m_full, nodemcuv2, esp32s3dev_8MB_opi, esp8266_2m_160, adafruit_matrixportal_esp32s3, esp32dev_8M, esp32_wrover, esp32S3_wroom2, esp32dev_16M'
